
@import "../imports/variables.less";

@import (inline) "../../css/AlphaIcons.css";

@onePXBiggerThanMobile : (@mobileMenuBreakWidth + 1);

:root{

}

:host {

	display:block;
	position:fixed;
	width:100%;
	font-family: var(--alpha-header-font-family);


	a {
		text-decoration: none;
		display:block;
	}
	ul, li {
		padding:0;
		margin:0;
		list-style:none;
		position:relative;
	}

	#closeButton {
		display:none;
	}
	#mobileLogo {
		display: none;
	}

	question-mark {

		color: @red;
		cursor:pointer;
		font-size:35px;
		line-height:27px;
		height:83px;
		text-decoration:none;
		display:flex;
		align-items:center;
		padding-left:11px;
		padding-right:11px;


	}

	.menu-toggle {
		padding:11px 8px;
		width:30px;
		float:right;
		z-index:10;
		cursor:pointer;
		i, &:before, &:after{
			background:black;
			display:block;
			border-radius: 4px;
			width:100%;
			height:4px;
			content:"";
			margin:3px 0;
		}
	}

	.menu-item{
		a {
			padding:25px 41px;

			color:@headerLinkColour;
			background:#fff;
			transition : all 0.3s ease-out;
			&:hover{
				color:@red;
			}

		}
		&.menu-item-has-children:hover > a {
			color:@red;
			@media (min-width:@onePXBiggerThanMobile){
				border-bottom:2px solid white;
			}
		}
		&.menu-btn{

			a{
				color:white;
				background-color:@red;

				line-height: 1.8;

				&:hover{
					background-color:#b51c0e;
					transition : background-color, 150ms, ease-in-out;
				}
			}
			@media (min-width:@onePXBiggerThanMobile){
				max-width:220px;
			}
			@media (max-width:@mobileMenuBreakWidth){

				a{
					background:none;
					color:@red;
				}
			}
		}

		&:hover .sub-menu{
			transform : translateY(0);
		}
	}

	.main-menu{

		display:flex;
		flex-flow: row nowrap;
		margin:0;

		/** Top level list elements **/
		> .menu-item {
			display:flex;
			align-items:center;
			flex: 1 0 auto;

			/** link inside top level element **/
			> a{
				height:100%;
				box-sizing:border-box;
				border-left:1px solid #e6e7e8;
				position:relative;
				z-index:35;
				font-size:1.125em;
				letter-spacing:0.02em;
				flex-grow:1;
				justify-content:center;

				@media screen and (min-width:@onePXBiggerThanMobile){
					border-bottom:1px solid #dfdfdf;
				}

				display:flex;
				align-items:center;
				flex-flow : row wrap;
			}

			&.search-element{
				@media (max-width : @mobileMenuBreakWidth){
					display:none;
				}
				max-width:84px;

				.menu-search-label{
					font-size:24px;
					@media (min-width:1024px){
						font-size:27px;
					}
					position:relative;
					cursor:pointer;
					z-index:35;
					width:100%;
					height:100%;
					padding:0 31px;
					background:#fff;
					box-sizing:border-box;
					border-bottom:1px solid #dfdfdf;
					display:flex;
					justify-content:center;
					align-items:center;
				}
			}

			&.language-menu{
				@media (max-width:@mobileMenuBreakWidth){
					display:none;
				}
				max-width:84px;

				> a {
					border-right:1px solid #e6e7e8;
					background-color:#fafafa;
					font-size:0;
					padding:0 29px;

					&::before{
						.iconFont();
						content:"\77";
						font-size:18px;
						@media (min-width:1024px){
							font-size:24px;
						}
						line-height:23px;
					}
				}
			}

			@media (min-width:@onePXBiggerThanMobile){
				height:84px;
			}

		}
	}

	.sub-menu {

		overflow:hidden;

		position:absolute;
		z-index:30;
		left:0;
		top:84px;

		min-width:max-content;
		width:100%;
		padding:0;

		background:#fff;
		border:1px solid #dfdfdf;
		border-top:none;

		transform : translateY(-100%);
		transition : all 0.2s ease-out;

		.menu-item {
			a {

				font-weight:100;
				@media screen and (min-width:@onePXBiggerThanMobile){
					padding:15px 35px;
					&:hover{
						background:#fafafa;
					}
				}

			}
		}
	}

	/** Slide out search component */
	.menu-search-area{

		position:absolute;
		z-index:300;
		left:100%;
		height:100%;
		width:100%;
		background:#fff;
		transform: translateX(0);
		transition: transform 0.3s ease-out;

		form {
			height:100%;
			display:flex;
		}

		&.open{
			transform: translateX(-100%);
		}

		.search-form-close{
			cursor:pointer;
			background-color:@red;
			color:#fff;
			font-size:30px;
			flex-basis : 84px;
			display:flex;
			justify-content: center;
			align-items:center;
		}
		.menu-search-input-wrapper{
			flex-grow:1;
		}
		.menu-search-input{
			font-size:20px;
			border:none;
			border-left:1px solid #dfdfdf;
			height: 100%;
			width: 100%;
			margin: 0;
			padding: 20px;
			box-sizing: border-box;
		}
		@media (max-width:@mobileMenuBreakWidth){
			position:static;
			height:auto;
			margin-bottom:20px;
			.search-form-close{
				display:none;
			}
			.menu-search-input{
				border:1px solid #dfdfdf;
			}
		}
	}


	@media (min-width:@onePXBiggerThanMobile){

		.menu-toggle{
			display:none;
		}

		.before-menu{
			border-bottom:1px solid #dfdfdf;
			flex-grow:1;
			background:#fff;
		}

		.menu-container{
			display:flex;
			justify-content : space-between;
			height:84px;


		}
		.main-menu{

			justify-content: flex-end;
			flex : 0 1 1116px;

			border-bottom: 1px solid #dfdfdf;

			/** Top level menu items **/
			> .menu-item {

				/** Link inside top level element **/
				> a {
					padding-left:15px;
					padding-right:15px;
				}

				&.menu-item-type-login a{
					background-color:#fafafa;
				}
			}
		}
	}
	@media (min-width:1024px){
		question-mark {
			padding-left:27px;
			padding-right:27px;
			line-height:37px;
			font-size:45px;
			min-height:83px;

		}
		.menu-item {
			a {
				padding:0 52px;

			}
		}
	}

	@media screen and (max-width:@mobileMenuBreakWidth){

		&.open {
			.menu-wrapper{
				background:rgba(0,0,0,1);
				height:100%;
				visibility: visible;
			}
		}

		.menu-wrapper{

			position: fixed;
			top:0;
			z-index:100;

			width:100%;
			height:0;

			overflow-y:scroll;
			visibility: hidden;

			background:#000;
			border:none;

			transition : background 0.3s ease-out;

		}

		#mobileLogo{
			display:block;
			float:left;
			margin-top:10px;
		}

		.menu-search-area{
			display:none;
		}

		.before-menu{
			display:none;
		}

		.sub-menu{
			margin-bottom:30px;
			margin-top:10px;
			position:static;
			visibility: visible;
			display:none;
			background:none;
			border:none;
			width:100%;
			transform:none;

			.menu-item a{
				font-weight:500;
			}
		}
		.sub-menu-toggle {
			cursor:pointer;
			display:inline-flex;
			justify-content: center;
			align-items:center;
			margin-left:5px;
			height:auto;
			padding:10px;
			&::before{
				content : "";
				position: absolute;
				border-bottom: none;
				border-left: 6px solid transparent;
				border-right: 6px solid transparent;
				border-top: 6px solid #fff;
			}

		}

		.menu-item {

			border:none;
			display:block;

			a {
				padding:0;
				background:none;

				display:block;
				height:auto;
				color:inherit;
				font-size:18px;

				&:hover{
					color:#fff;
				}
			}
			&.menu-item-has-children:hover > a{
				color:#fff;
			}
			&.open {
				> .sub-menu{
					display:block;
				}
				.sub-menu-toggle {
					&::before{

						border-top: none;
						border-left: 6px solid transparent;
						border-right: 6px solid transparent;
						border-bottom: 6px solid #fff;
					}
				}
			}
		}


		.menu-container{
			background:@mobileMenuBackgroundColour;
			padding:0 20px;
			color:@mobileMenuLinkColour;

			.menu-item {
				a {
					border:none;

				}
			}

		}

		.main-menu{

			text-align:center;
			padding-top:50px;
			display:block;


			/** Top level elements */
			> .menu-item {

				margin-bottom:10px;
				display:flex;
				justify-content: center;
				flex-flow:row wrap;

				/** link inside top level elements **/
				> a{
					font-weight:500;
					display:inline-block;
					font-size:24px;
					flex-grow:0;
				}

			}
		}

		#closeButton {
			display:block;
			position:absolute;
			right:0;
			z-index:100;
			font-size:26px;
			padding:15px;
			line-height:80%;
			cursor:pointer;
		}
	}

}
