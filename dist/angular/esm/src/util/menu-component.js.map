{"version":3,"sources":["../../../../../src/angular/src/util/menu-component.ts"],"names":[],"mappings":"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","file":"menu-component.js","sourceRoot":"","sourcesContent":["\r\n// reference to document element classes\r\nconst htmlClasses = document.documentElement.classList;\r\n\r\n\r\nconst ITEM_SIZE = 84;\r\nconst ITEM_MAX_PADDING = 50;\r\nconst ITEM_MIN_PADDING = 15;\r\nconst ITEM_FONT_SIZE = 18;\r\nconst MENU_RESERVED_WIDTH = 84; // the logo is only required space\r\n\r\n/**\r\n * This class is used in polymer and angular to construct and manage the menu\r\n */\r\nclass AlphaHeader {\r\n\r\n\tpublic toolBar: HTMLElement;\r\n\tpublic menuContainer: HTMLElement;\r\n\tpublic searchArea: HTMLElement;\r\n\r\n\tpublic isCollapsed: boolean;\r\n\tpublic isMinified: boolean;\r\n\tpublic state: string;\r\n\tpublic options: any;\r\n\tpublic defaults: any = {\r\n\t\tminItemSize: 10,\r\n\t\tfontSize: \"10px\",\r\n\t\treservedWidth: 50,\r\n\t\titemPadding: 10, // * x 2,\r\n\t\ttoolBarItemSelector: '[toolbar-item]',\r\n\t\tcloseSubMenusOnClick: false,\r\n\t\tlanguages: []\r\n\r\n\t};\r\n\r\n\tprivate canvasContext: CanvasRenderingContext2D;\r\n\r\n\tprivate _boundResizeFunction: EventListenerOrEventListenerObject;\r\n\tprivate _boundClickFunction: EventListenerOrEventListenerObject;\r\n\tprivate _boundWindowClickFunction: EventListenerOrEventListenerObject;\r\n\r\n\tconstructor (\r\n\t\tpublic element,\r\n\t\toptions\r\n\t) {\r\n\r\n\t\tthis.isCollapsed = false;\r\n\t\tthis.isMinified = false;\r\n\t\tthis.state = '';\r\n\t\tthis.menuContainer = this.element.querySelector( '[menu-container]' );\r\n\r\n\t\tthis.options = merge( options || {}, this.defaults );\r\n\r\n\t\tthis.attachToolbarElements();\r\n\r\n\t\tif ( this.options.languages.length ) {\r\n\t\t\tthis.menuContainer.appendChild( this.createLanguageMenu( 'no-cursor' ) );\r\n\t\t}\r\n\r\n\t\t// create sub menu toggles\r\n\t\tthis.attachSubMenuToggles();\r\n\r\n\t\t// create toolbar menu after sub-menu toggle\r\n\t\tif ( this.options.languages.length ) {\r\n\t\t\tthis.toolBar.insertBefore( this.createLanguageMenu( 'sub-menu-toggle' ), this.toolBar.firstChild );\r\n\t\t}\r\n\r\n\t\tif ( this.options.search ) {\r\n\t\t\tthis.createSearchArea();\r\n\t\t}\r\n\r\n\t\trequestAnimationFrame( () => this.check() );\r\n\r\n\t\tthis._boundResizeFunction = this.check.bind( this );\r\n\t\tthis._boundClickFunction = this.onClick.bind( this );\r\n\t\tthis._boundWindowClickFunction = this.onWindowClick.bind( this );\r\n\r\n\t\twindow.addEventListener( 'resize', this._boundResizeFunction );\r\n\r\n\t\tthis.element.addEventListener( 'click', this._boundClickFunction );\r\n\r\n\t\twindow.addEventListener( 'click', this._boundWindowClickFunction );\r\n\r\n\t}\r\n\r\n\t/**\r\n\t * Listen to clicks on the window to close open nav menus\r\n\t * @param event\r\n\t */\r\n\tprivate onWindowClick ( event ): void {\r\n\r\n\t\t// if the click came from the menu, dont do anything\r\n\t\tif ( event.isMenuClick ) {\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tthis.closeSubMenus();\r\n\t}\r\n\r\n\t/**\r\n\t * Handle clicks on different elements\r\n\t *\r\n\t * @param event\r\n\t */\r\n\tprivate onClick ( event ): void {\r\n\r\n\t\tevent.isMenuClick = true;\r\n\r\n\r\n\t\tif ( this.options.closeSubMenusOnClick && !document.documentElement.classList.contains( 'nav-open' ) ) {\r\n\t\t\t// close sub-menus if the click came from there\r\n\t\t\tlet menuContainer = event.composedPath().filter( function ( el ) { return el.classList && el.classList.contains( 'sub-menu' ); } )\r\n\t\t\tif ( menuContainer.length ) {\r\n\t\t\t\tconst parentEl: HTMLElement = menuContainer[ 0 ].parentElement;\r\n\t\t\t\tif ( parentEl.classList.contains( 'open' ) ) {\r\n\t\t\t\t\tparentEl.classList.remove( 'open' );\r\n\t\t\t\t} else {\r\n\t\t\t\t\tthis.spoofCloseSubMenu( parentEl );\r\n\t\t\t\t}\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\r\n\t\t/**\r\n\t\t * Sub menu toggle clicks\r\n\t\t */\r\n\t\tif ( event.target.classList.contains( 'sub-menu-toggle' ) ) {\r\n\r\n\t\t\tlet menutarget;\r\n\t\t\tif ( event.target.classList.contains( 'menu-item-has-children' ) ) {\r\n\r\n\t\t\t\tmenutarget = event.target;\r\n\r\n\t\t\t} else {\r\n\t\t\t\tmenutarget = event.target.parentNode;\r\n\t\t\t}\r\n\r\n\t\t\tlet isOpen: boolean = menutarget.classList.contains( 'open' );\r\n\r\n\t\t\tthis.closeSubMenus();\r\n\r\n\t\t\tif ( isOpen ) {\r\n\t\t\t\tmenutarget.classList.remove( 'open' );\r\n\t\t\t} else {\r\n\t\t\t\tmenutarget.classList.add( 'open' );\r\n\t\t\t}\r\n\r\n\r\n\r\n\t\t} else if ( event.target.classList.contains( 'search-form-close' ) ) {\r\n\r\n\t\t\tthis.closeSearch();\r\n\r\n\t\t} else if ( event.target.classList.contains( 'search-icon' ) ) {\r\n\r\n\t\t\tthis.openSearch();\r\n\r\n\t\t} else if ( event.target.classList.contains( 'menu-toggle' ) ) {\r\n\r\n\t\t\tthis.open();\r\n\r\n\t\t} else if ( event.target.id === 'closeButton' ) {\r\n\r\n\t\t\tthis.close();\r\n\r\n\t\t}\r\n\r\n\r\n\t}\r\n\r\n\t/**\r\n\t * In angular situations, the page doesn't navigate, so a hovered sub-menu will remain open after a click\r\n\t * This will\r\n\t * @param element\r\n\t */\r\n\tprivate spoofCloseSubMenu ( element ) {\r\n\t\telement.style.height = ITEM_SIZE + 'px';\r\n\t\telement.style.pointerEvents = 'none';\r\n\t\tsetTimeout( function () {\r\n\r\n\t\t\telement.style.height = '';\r\n\t\t\telement.style.pointerEvents = '';\r\n\r\n\r\n\t\t}, 100 )\r\n\t}\r\n\r\n\t/**\r\n\t * Go through each direct children of the ul menu container, measure the required text for each element plus some padding\r\n\t */\r\n\tprivate getCollapsedMenuWidth ( options ): number {\r\n\r\n\t\tvar minWidth = 0,\r\n\t\t\toptions = options || {},\r\n\t\t\tfont = options.font || \"10px Arial\",\r\n\t\t\tletterSpacing = options.letterSpacing || 0,\r\n\t\t\titemPadding = options.itemPadding || 0,\r\n\t\t\tminItemWidth = options.minItemWidth || 0,\r\n\t\t\twordSpacing = options.wordSpacing || 0,\r\n\t\t\texcludeIcons = options.excludeIcons || false,\r\n\t\t\ti = 0;\r\n\r\n\t\tfor ( i; i < this.menuContainer.children.length; i++ ) {\r\n\r\n\t\t\tvar liEl = this.menuContainer.children[ i ];\r\n\r\n\t\t\tvar link = liEl.firstElementChild || liEl,\r\n\t\t\t\ttext = link.textContent,\r\n\t\t\t\tneeded;\r\n\r\n\t\t\tif ( text ) {\r\n\t\t\t\tneeded = this.measureWidth( text, font, { letterSpacing: letterSpacing, wordSpacing: wordSpacing } ) + itemPadding;\r\n\t\t\t} else if ( !excludeIcons ) {\r\n\t\t\t\tneeded = minItemWidth;\r\n\t\t\t} else {\r\n\t\t\t\tcontinue;\r\n\t\t\t}\r\n\r\n\t\t\t//console.info(link.textContent, needed);\r\n\r\n\t\t\t// ensure min item width\r\n\t\t\tminWidth += needed < minItemWidth ? minItemWidth : needed;\r\n\r\n\t\t};\r\n\r\n\t\treturn minWidth;\r\n\t}\r\n\r\n\t/**\r\n\t * Move toolbar elements into the toolbar from the menu\r\n\t *\r\n\t */\r\n\tprivate attachToolbarElements (): void {\r\n\r\n\t\t// create the toolbar container\r\n\t\tthis.toolBar = document.createElement( 'div' );\r\n\t\tthis.toolBar.classList.add( 'menu-toolbar' );\r\n\r\n\t\t// add a search icon\r\n\t\tif ( this.options.search ) {\r\n\t\t\tconst searchIcon: HTMLElement = this.createSearchIcon();\r\n\t\t\tthis.toolBar.appendChild( searchIcon );\r\n\t\t}\r\n\r\n\t\t// add the menu icon\r\n\t\tconst menuToggle: HTMLElement = document.createElement( 'a' );\r\n\t\tmenuToggle.classList.add( 'menu-toggle' );\r\n\t\tmenuToggle.innerHTML = '<i></i>';\r\n\t\tthis.toolBar.appendChild( menuToggle );\r\n\r\n\t\t// add the close button\r\n\t\tconst closeButton: HTMLElement = document.createElement( 'span' );\r\n\t\tcloseButton.id = 'closeButton';\r\n\t\tcloseButton.classList.add( 'agh-icon-close-thin' );\r\n\t\tthis.element.appendChild( closeButton );\r\n\r\n\t\t// append the toolbar\r\n\t\tthis.element.appendChild( this.toolBar );\r\n\r\n\t\t// find dynamic toolbar items from the user markup\r\n\t\tconst items: NodeList = this.menuContainer.querySelectorAll( this.options.toolBarItemSelector );\r\n\r\n\t\tlet i: number = 0,\r\n\t\t\tlen: number = items.length;\r\n\r\n\t\tfor ( i; i < len; i++ ) {\r\n\t\t\tconst item: Node = items[ i ];\r\n\t\t\tthis.toolBar.insertBefore( item, this.toolBar.firstChild );\r\n\r\n\t\t}\r\n\r\n\t}\r\n\r\n\t/**\r\n\t * Create the language menu\r\n\t */\r\n\tprivate createLanguageMenu ( extraClass: string = '' ): HTMLElement {\r\n\r\n\t\tif ( this.options.languages.length === 0 ) {\r\n\t\t\treturn null;\r\n\t\t}\r\n\r\n\t\tconst languageElement: HTMLElement = document.createElement( 'div' );\r\n\t\tlanguageElement.classList.add( 'menu-item-has-children' );\r\n\t\tlanguageElement.setAttribute( 'menu-icon', 'w' );\r\n\t\tlanguageElement.setAttribute( 'menu-title', 'Languages' );\r\n\r\n\t\tif ( extraClass ) {\r\n\t\t\tlanguageElement.classList.add( extraClass );\r\n\t\t}\r\n\r\n\t\tlet subMenu: string = '<ul class=\"sub-menu\">',\r\n\t\t\ti: number = 0,\r\n\t\t\tlen: number = this.options.languages.length;\r\n\r\n\t\tfor ( i; i < len; i++ ) {\r\n\t\t\tconst language = this.options.languages[ i ];\r\n\t\t\tsubMenu += '<li><a href=\"' + language.href + '\">' + language.label + '</a></li>';\r\n\t\t}\r\n\r\n\t\tsubMenu += '</ul>';\r\n\r\n\t\tlanguageElement.innerHTML = subMenu;\r\n\r\n\t\treturn languageElement;\r\n\t}\r\n\r\n\t/**\r\n\t * Create an icon to open the search\r\n\t */\r\n\tprivate createSearchIcon (): HTMLElement {\r\n\t\tconst searchIcon: HTMLElement = document.createElement( 'div' );\r\n\t\tsearchIcon.classList.add( 'search-icon' );\r\n\t\tsearchIcon.setAttribute( 'menu-icon', 'g' );\r\n\t\treturn searchIcon;\r\n\t}\r\n\r\n\t/**\r\n\t * Create the search area\r\n\t */\r\n\tprivate createSearchArea (): void {\r\n\r\n\t\t// create the search form\r\n\t\tthis.searchArea = document.createElement( 'div' );\r\n\t\tthis.searchArea.classList.add( 'menu-search-area' );\r\n\r\n\t\t// form action\r\n\t\tconst searchAction: string = this.options.search.action || \"\";\r\n\r\n\t\t// create a URL from the search action\r\n\t\tconst searchUrl: URL = new URL( searchAction, document.location.origin );\r\n\r\n\t\t// get the form target\r\n\t\tconst formTarget: string = searchUrl.hostname !== document.location.hostname ? '_blank' : '_self';\r\n\r\n\t\t// the form markup\r\n\t\tthis.searchArea.innerHTML =\r\n\t\t\t`<form target=\"${ formTarget }\" class=\"menu-search\" action=\"${ searchAction }\">\r\n\t\t\t\t<div class=\"menu-search-input-wrapper\">\r\n\t\t\t\t\t<input class=\"menu-search-input\" type=\"text\" name=\"s\" value=\"\" placeholder=\"Search\">\r\n\t\t\t\t</div>\r\n\t\t\t\t<div class=\"search-form-close agh-icon-close-thin\"></div>\r\n\t\t\t</form>`;\r\n\r\n\t\t// create the toggle\r\n\t\tconst searchIcon: HTMLElement = this.createSearchIcon();\r\n\r\n\t\t// attach them\r\n\t\tthis.menuContainer.appendChild( searchIcon );\r\n\t\tthis.menuContainer.parentElement.appendChild( this.searchArea );\r\n\t}\r\n\r\n\t/**\r\n\t * Attach sub menu toggles\r\n\t */\r\n\tprivate attachSubMenuToggles (): void {\r\n\r\n\t\tconst subMenus = this.element.querySelectorAll( '.sub-menu' );\r\n\r\n\t\tlet i: number = 0,\r\n\t\t\tlen: number = subMenus.length;\r\n\r\n\t\tfor ( i; i < len; i++ ) {\r\n\r\n\t\t\tlet subMenu = subMenus[ i ];\r\n\r\n\t\t\tconst toggle: HTMLElement = document.createElement( 'span' );\r\n\t\t\ttoggle.classList.add( 'sub-menu-toggle' );\r\n\r\n\t\t\tsubMenu.parentNode.insertBefore( toggle, subMenu );\r\n\t\t}\r\n\r\n\t}\r\n\r\n\r\n\t/**\r\n\t * Measure the width of text given a font def and custom properties\r\n\t *\r\n\t * @param {*} text\r\n\t * @param {*} font\r\n\t * @param {*} overwrites\r\n\t */\r\n\tprivate measureWidth ( text, font, overwrites: any = {} ): number {\r\n\r\n\t\tvar letterSpacing = overwrites.letterSpacing || 0;\r\n\t\tvar wordSpacing = overwrites.wordSpacing || 0;\r\n\t\tvar addSpacing = addWordAndLetterSpacing( wordSpacing, letterSpacing );\r\n\r\n\t\tvar ctx = this.getContext2d( font );\r\n\r\n\t\treturn ctx.measureText( text ).width + addSpacing( text );\r\n\t}\r\n\r\n\t/**\r\n\t * Get canvas element to measure text with\r\n\t *\r\n\t * @param {*} font\r\n\t */\r\n\tprivate getContext2d ( font ): CanvasRenderingContext2D {\r\n\r\n\t\tif ( this.canvasContext ) {\r\n\t\t\treturn this.canvasContext;\r\n\t\t}\r\n\r\n\t\ttry {\r\n\t\t\tvar ctx: any = document.createElement( 'canvas' ).getContext( '2d' );\r\n\t\t\tvar dpr = window.devicePixelRatio || 1;\r\n\t\t\tvar bsr = ctx.webkitBackingStorePixelRatio ||\r\n\t\t\t\tctx.mozBackingStorePixelRatio ||\r\n\t\t\t\tctx.msBackingStorePixelRatio ||\r\n\t\t\t\tctx.oBackingStorePixelRatio ||\r\n\t\t\t\tctx.backingStorePixelRatio || 1;\r\n\t\t\tctx.font = font;\r\n\t\t\tctx.setTransform( dpr / bsr, 0, 0, dpr / bsr, 0, 0 );\r\n\r\n\t\t\tthis.canvasContext = ctx;\r\n\r\n\t\t\treturn ctx;\r\n\t\t} catch ( err ) {\r\n\t\t\tthrow new Error( 'Canvas support required' );\r\n\t\t}\r\n\t}\r\n\r\n\r\n\tpublic open (): void {\r\n\t\tthis.closeSubMenus();\r\n\t\tthis.element.classList.add( 'open' );\r\n\t\thtmlClasses.add( 'nav-open' );\r\n\t}\r\n\r\n\tpublic close (): void {\r\n\t\tthis.element.classList.remove( 'open' );\r\n\t\thtmlClasses.remove( 'nav-open' );\r\n\t}\r\n\r\n\tpublic closeSubMenus (): void {\r\n\t\tlet openElements = this.element.querySelectorAll( '.open' );\r\n\t\tvar i = 0, len = openElements.length;\r\n\t\tfor ( i; i < len; i++ ) {\r\n\t\t\tvar item = openElements[ i ];\r\n\t\t\titem.classList.remove( 'open' );\r\n\t\t}\r\n\t}\r\n\r\n\tpublic openSearch (): void {\r\n\t\tthis.closeSubMenus();\r\n\t\tthis.searchArea.classList.add( 'open' );\r\n\t}\r\n\r\n\tpublic closeSearch (): void {\r\n\r\n\t\tthis.searchArea.classList.remove( 'open' );\r\n\r\n\t}\r\n\r\n\t/**\r\n\t * Remove listeners\r\n\t */\r\n\tpublic destroy (): void {\r\n\r\n\t\twindow.removeEventListener( 'resize', this._boundResizeFunction );\r\n\r\n\t\tthis.element.removeEventListener( 'click', this._boundClickFunction );\r\n\t}\r\n\r\n\t/**\r\n\t * Resize function\r\n\t */\r\n\tpublic check (): void {\r\n\r\n\t\t// extract the supported values\r\n\t\tvar reservedWidth = MENU_RESERVED_WIDTH,\r\n\t\t\tminItemSize = ITEM_SIZE,\r\n\t\t\ttoolBarIconWidth = ITEM_SIZE,\r\n\t\t\tfontSize = ITEM_FONT_SIZE + \"px\"\r\n\r\n\t\t// available width the menu has to expand to\r\n\t\tvar availWidth = document.body.clientWidth - reservedWidth;\r\n\r\n\r\n\t\t// width needed by the menu\r\n\t\tvar collapsedWidthNeeded = this.getCollapsedMenuWidth( {\r\n\t\t\tfont: \"600 \" + fontSize + \" Century Gothic\",\r\n\t\t\tletterSpacing: \"0.05em\",\r\n\t\t\titemPadding: ITEM_MIN_PADDING * 2,\r\n\t\t\tminItemWidth: minItemSize\r\n\t\t} );\r\n\r\n\t\t// width needed for toolbar icon view\r\n\t\tvar minWidthNeeded = this.toolBar.children.length * toolBarIconWidth;\r\n\r\n\t\t// new state to change into\r\n\t\tvar newState;\r\n\r\n\t\t/*console.info(\r\n\t\t\t\"available width: \" + availWidth + \"\\n\"\r\n\t\t\t+ \"need for collapsed: \" + collapsedWidthNeeded + \"\\n\"\r\n\t\t\t+ \"need for toolbar: \" + minWidthNeeded\r\n\t\t);*/\r\n\r\n\t\t/**\r\n\t\t * Check conditions for collapsing\r\n\t\t */\r\n\r\n\t\tif ( availWidth < minWidthNeeded ) {\r\n\r\n\t\t\tnewState = 'minified';\r\n\r\n\t\t} else if ( availWidth < collapsedWidthNeeded ) {\r\n\r\n\t\t\tnewState = 'collapsed';\r\n\r\n\t\t} else {\r\n\r\n\t\t\tnewState = '';\r\n\t\t\t// set any extra item padding available\r\n\t\t\tthis.setExtraItemPadding();\r\n\r\n\t\t}\r\n\r\n\t\tif ( this.state !== newState ) {\r\n\r\n\t\t\tif ( newState === 'minified' || newState === 'collapsed' ) {\r\n\r\n\t\t\t\thtmlClasses.add( 'nav-collapsed' );\r\n\t\t\t\tthis.element.classList.add( 'collapsed' );\r\n\r\n\t\t\t}\r\n\r\n\t\t\tif ( newState === '' ) {\r\n\r\n\t\t\t\thtmlClasses.remove( 'nav-minified' );\r\n\t\t\t\thtmlClasses.remove( 'nav-collapsed' );\r\n\t\t\t\tthis.element.classList.remove( 'minified' );\r\n\t\t\t\tthis.element.classList.remove( 'collapsed' );\r\n\r\n\t\t\t} else if ( newState === 'minified' ) {\r\n\r\n\t\t\t\thtmlClasses.add( 'nav-minified' );\r\n\t\t\t\tthis.element.classList.add( 'minified' );\r\n\r\n\t\t\t} else if ( newState === 'collapsed' && this.state === 'minified' ) {\r\n\r\n\t\t\t\tthis.element.classList.remove( 'minified' );\r\n\t\t\t\thtmlClasses.remove( 'nav-minified' );\r\n\r\n\t\t\t} else if ( this.state === 'collapsed' ) {\r\n\r\n\t\t\t\tthis.element.classList.remove( 'collapsed' );\r\n\t\t\t\thtmlClasses.remove( 'nav-collapsed' );\r\n\r\n\t\t\t}\r\n\r\n\r\n\t\t\tthis.state = newState;\r\n\r\n\t\t}\r\n\t}\r\n\r\n\t/**\r\n\t * Set extra item padding\r\n\t */\r\n\tprivate setExtraItemPadding (): void {\r\n\r\n\t\t// available width the menu has to expand to\r\n\t\tvar availWidth = document.body.clientWidth - MENU_RESERVED_WIDTH;\r\n\r\n\t\tlet childrenToPad: Array<HTMLElement> = [];\r\n\t\tlet i: number = 0;\r\n\t\tfor ( i; i < this.menuContainer.childElementCount; i++ ) {\r\n\t\t\tlet el: HTMLElement = this.menuContainer.children[ i ] as HTMLElement;\r\n\t\t\tif ( !el.hasAttribute( 'menu-icon' ) && !el.classList.contains( 'menu-icon-width' ) ) {\r\n\t\t\t\tchildrenToPad.push( el );\r\n\t\t\t} else {\r\n\t\t\t\tavailWidth -= ITEM_SIZE;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t// min width with no padding, excluding icons\r\n\t\tlet minWidthNeeded: number = this.getCollapsedMenuWidth( {\r\n\t\t\tfont: \"600 \" + ITEM_FONT_SIZE + \"px\" + \" Century Gothic\",\r\n\t\t\tletterSpacing: \"0.05em\",\r\n\t\t\titemPadding: 0,\r\n\t\t\tminItemWidth: 0,\r\n\t\t\texcludeIcons: true\r\n\t\t} );\r\n\r\n\r\n\t\t// space available to distribute to padding\r\n\t\tlet paddingToDistribute: number = availWidth - minWidthNeeded;\r\n\r\n\t\t// item padding\r\n\t\tlet extraItemPadding: number = paddingToDistribute / ( childrenToPad.length * 2 );\r\n\r\n\t\t// ensure max/min\r\n\t\tif ( extraItemPadding > ITEM_MAX_PADDING ) {\r\n\t\t\textraItemPadding = ITEM_MAX_PADDING;\r\n\t\t} else if ( extraItemPadding < ITEM_MIN_PADDING ) {\r\n\t\t\textraItemPadding = ITEM_MIN_PADDING;\r\n\t\t}\r\n\r\n\t\t/*console.info(\r\n\t\t\t\"minWidthNeeded: \" + minWidthNeeded + \"\\n\"\r\n\t\t\t+ \"availWidth: \" + availWidth + \"\\n\"\r\n\t\t\t+ \"will distribute: \" + paddingToDistribute + \"\\n\"\r\n\t\t\t+ \"to \" + childrenToPad.length + \" each: \" + extraItemPadding + \"\\n\"\r\n\t\t);*/\r\n\r\n\t\t/**\r\n\t\t * Set padding on the menu elements\r\n\t\t */\r\n\t\tfor ( i = 0; i < childrenToPad.length; i++ ) {\r\n\t\t\tlet el: HTMLElement = childrenToPad[ i ] as HTMLElement;\r\n\t\t\tif ( !el.firstElementChild ) {\r\n\t\t\t\tcontinue;\r\n\t\t\t}\r\n\t\t\tlet link: HTMLElement = el.firstElementChild as HTMLElement;\r\n\t\t\tlink.style.paddingLeft = extraItemPadding + \"px\";\r\n\t\t\tlink.style.paddingRight = extraItemPadding + \"px\";\r\n\t\t}\r\n\t}\r\n\r\n}\r\n\r\n/**\r\n *\r\n * \tHelper functions\r\n *\r\n */\r\n\r\n\r\n/**\r\n *\r\n * @param obj\r\n * @param defaultProps\r\n */\r\nfunction merge ( obj, defaultProps ) {\r\n\tfor ( let prop in defaultProps ) {\r\n\t\tif ( !obj.hasOwnProperty( prop ) ) {\r\n\t\t\tobj[ prop ] = defaultProps[ prop ];\r\n\t\t}\r\n\t}\r\n\treturn obj;\r\n}\r\n\r\n\r\n/**\r\n * Get property from src\r\n *\r\n * @param src\r\n * @param attr\r\n * @param defaultValue\r\n * @returns {*}\r\n*/\r\nfunction prop ( src, attr, defaultValue ) {\r\n\treturn ( src && typeof src[ attr ] !== 'undefined' && src[ attr ] ) || defaultValue;\r\n}\r\n\r\n\r\n/**\r\n * We only support rem/em/pt conversion\r\n * @param val\r\n * @param options\r\n * @return {*}\r\n */\r\nfunction pxValue ( val, options = {} ) {\r\n\tvar baseFontSize = parseInt( prop( options, 'base-font-size', 16 ), 10 );\r\n\r\n\tvar value = parseFloat( val );\r\n\tvar unit = val.replace( value, '' );\r\n\t// eslint-disable-next-line default-case\r\n\tswitch ( unit ) {\r\n\t\tcase 'rem':\r\n\t\tcase 'em':\r\n\t\t\treturn value * baseFontSize;\r\n\t\tcase 'pt':\r\n\t\t\treturn value / ( 96 / 72 );\r\n\t\tcase 'px':\r\n\t\t\treturn value;\r\n\t}\r\n\r\n\tthrow new Error( `The unit ${ unit } is not supported` );\r\n}\r\n\r\n\r\n/**\r\n * Add custom letter and word spacing\r\n * @param {*} ws\r\n * @param {*} ls\r\n */\r\nfunction addWordAndLetterSpacing ( ws, ls ) {\r\n\r\n\tlet wordAddon = 0;\r\n\tif ( ws ) {\r\n\t\twordAddon = pxValue( ws );\r\n\t}\r\n\r\n\tlet letterAddon = 0;\r\n\tif ( ls ) {\r\n\t\tletterAddon = pxValue( ls );\r\n\t}\r\n\r\n\treturn function ( text ) {\r\n\t\tvar words = text.trim().replace( /\\s+/gi, ' ' ).split( ' ' ).length - 1;\r\n\t\tvar chars = text.length;\r\n\r\n\t\treturn ( words * wordAddon ) + ( chars * letterAddon );\r\n\t};\r\n}\r\n\r\n\r\n\r\nfunction getValueOrVariable ( value, el ) {\r\n\r\n\tif ( value.indexOf( '@' ) >= 0 ) {\r\n\t\tvar style = getComputedStyle( el ),\r\n\t\t\tvarValue = style.getPropertyValue( '--' + value.replace( '@', '' ) );\r\n\r\n\t\tif ( varValue ) {\r\n\t\t\tvalue = varValue;\r\n\t\t} else {\r\n\t\t\treturn null;\r\n\t\t}\r\n\r\n\t}\r\n\r\n\treturn value;\r\n}\r\n\r\nfunction getValueOrVariableInt ( value, el ) {\r\n\r\n\tvar computedValue = getValueOrVariable( value, el );\r\n\r\n\treturn computedValue ? parseInt( computedValue.replace( 'px', '' ) ) : null;\r\n\r\n}\r\n\r\n\r\nexport {\r\n\tAlphaHeader\r\n}\r\n"]}