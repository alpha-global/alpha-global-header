{"version":3,"sources":["../../../../src/angular/src/alpha-global-header.component.ts"],"names":[],"mappings":"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","file":"alpha-global-header.component.js","sourceRoot":"","sourcesContent":["import {\r\n\tComponent,\r\n\tInput,\r\n\tViewEncapsulation,\r\n\tAfterViewInit,\r\n\tOnDestroy,\r\n\tElementRef,\r\n\tHostListener\r\n\r\n} from '@angular/core';\r\n\r\nimport {\r\n\tRouter,\r\n\tNavigationStart,\r\n\tNavigationEnd\r\n} from '@angular/router';\r\n\r\nimport { AlphaHeader } from './util/menu-component';\r\n\r\n\r\n\r\nexport class AlphaGlobalHeader implements AfterViewInit, OnDestroy {\r\n\r\n\tpublic header: AlphaHeader;\r\n\r\n\t home: Array<string>;\r\n\t homeTarget: string = '_self';\r\n\t search: boolean;\r\n\t searchAction: string;\r\n\t languages: Array<any> = [];\r\n\r\n\t/**\r\n\t * Close menu when clicking on self link\r\n\t *\r\n\t * @param event\r\n\t */\r\n\t onClick( event ) {\r\n\r\n\t\tconst targ: HTMLElement = event.target,\r\n\t\t\tisRouterLink: boolean = targ.hasAttribute( 'href' );\r\n\r\n\t\tif ( isRouterLink ) {\r\n\t\t\t// close the nav (should close by itself but when clicking on own items no navigation occurs)\r\n\t\t\tthis.header.close();\r\n\t\t}\r\n\r\n\t}\r\n\r\n\tpublic constructor(\r\n\t\tprivate elRef: ElementRef,\r\n\t\tprivate router: Router\r\n\t) {\r\n\r\n\t\t/**\r\n\t\t * Listen to navigation events\r\n\t\t * Toolbar items that get moved around lose their ability to have their classes added / removed by angular\r\n\t\t */\r\n\t\tthis.router.events.subscribe( event => {\r\n\r\n\t\t\tif ( !this.header ) {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t\tif ( event instanceof NavigationStart ) {\r\n\r\n\t\t\t\t// close any open nav\r\n\t\t\t\tthis.header.close();\r\n\r\n\t\t\t}\r\n\r\n\t\t} )\r\n\t}\r\n\r\n\r\n\t/**\r\n\t * After view and content has been rendered, check the menu widths\r\n\t */\r\n\tpublic ngAfterViewInit(): void {\r\n\r\n\t\t// use our common menu sizing lib\r\n\t\tthis.header = new AlphaHeader( this.elRef.nativeElement, {\r\n\r\n\t\t\tsearch: this.search ? { action: this.searchAction } : false,\r\n\t\t\tlanguages: this.languages,\r\n\t\t\tcloseSubMenusOnClick: true\r\n\r\n\t\t} );\r\n\r\n\t}\r\n\r\n\t/**\r\n\t * on click of the home link either use the router, or allow to open in new tab\r\n\t * @param event\r\n\t */\r\n\tpublic onHomeClick( event: MouseEvent ) {\r\n\r\n\t\tif ( this.home instanceof Array ) {\r\n\r\n\t\t\tevent.preventDefault();\r\n\r\n\t\t\tthis.router.navigate( this.home );\r\n\r\n\t\t} else {\r\n\t\t\tconst link: HTMLElement = event.target as HTMLElement;\r\n\t\t\tlink.setAttribute( 'href', this.home );\r\n\t\t}\r\n\t}\r\n\r\n\t/**\r\n\t * Cleanup on destroy\r\n\t */\r\n\tpublic ngOnDestroy(): void {\r\n\r\n\t\tthis.header.destroy();\r\n\t}\r\n\r\nstatic decorators: DecoratorInvocation[] = [\n{ type: Component, args: [{\r\n\tselector: 'alpha-global-header',\r\n\ttemplate: `\r\n\t<a *ngIf=\"home\" class=\"question-mark agh-icon-logo\" id=\"mobileLogo\" (click)=\"onHomeClick($event)\" [target]=\"homeTarget\"></a>\r\n\r\n\t<div class=\"menu-container\">\r\n\r\n\t\t<div *ngIf=\"home\" class=\"before-menu\">\r\n\t\t\t<a class=\"question-mark agh-icon-logo\" (click)=\"onHomeClick($event)\" [target]=\"homeTarget\"></a>\r\n\t\t</div>\r\n\r\n\t\t<div class=\"menu-area\">\r\n\r\n\t\t\t<ul menu-container class=\"main-menu\">\r\n\r\n\t\t\t\t<ng-content></ng-content>\r\n\r\n\t\t\t</ul>\r\n\r\n\t\t</div>\r\n\r\n\t</div>\r\n\r\n  \t`,\r\n\tstyleUrls: [ '../../../assets/less/styles/header.less' ],\r\n\tencapsulation: ViewEncapsulation.None\r\n}, ] },\n];\n/** @nocollapse */\nstatic ctorParameters: () => ({type: any, decorators?: DecoratorInvocation[]}|null)[] = () => [\n{type: ElementRef, },\n{type: Router, },\n];\nstatic propDecorators: {[key: string]: DecoratorInvocation[]} = {\n'home': [{ type: Input, args: ['home', ] },],\n'homeTarget': [{ type: Input, args: ['homeTarget', ] },],\n'search': [{ type: Input, args: ['search', ] },],\n'searchAction': [{ type: Input, args: ['search-action', ] },],\n'languages': [{ type: Input, args: ['languages', ] },],\n'onClick': [{ type: HostListener, args: ['click', [ '$event' ], ] },],\n};\n}\r\n\ninterface DecoratorInvocation {\n  type: Function;\n  args?: any[];\n}\n"]}